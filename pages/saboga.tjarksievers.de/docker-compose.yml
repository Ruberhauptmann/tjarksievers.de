version: '3.8'

services:
  api:
    build: ./pages/saboga.tjarksievers.de/
    image: saboga-api:latest
    container_name: saboga-api
    depends_on:
      - nginx-proxy
    environment:
      - VIRTUAL_HOST=saboga.tjarksievers.de
      - VIRTUAL_PORT=8000
      - LETSENCRYPT_HOST=saboga.tjarksievers.de
      - LETSENCRYPT_EMAIL=tjark.sievers@outlook.de
    env_file:
      - pages/saboga.tjarksievers.de/.env
    networks:
      - saboga-api
      - nginx-proxy

  database:
    image: mariadb:latest
    container_name: saboga-database
    env_file:
      - pages/saboga.tjarksievers.de/.env
    networks:
      - saboga-api

networks:
  saboga-api:
    name: saboga-api
    driver: bridge
